{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block top_includes %}
    <link rel="stylesheet" type="text/css" href="/static/css/base.css"/>
{% endblock %}

{% block title %}
    <title>{% trans "RDM" %} {% trans "User-Emails" %} - {% trans "User Search" %}</title>
{% endblock title %}

{% block content %}
    <div class="container-fluid">
        <div id="error_message" class="row hidden"></div>
        <div class="row">
            <h3>{% trans "User Search" %}</h3>
        </div>
        <div class="row">
            <div class="col-md-6">
                <form name="user-search" action="{% url 'user-emails:search' %}" method="post"
                      onsubmit="return validateForm()">
                    {% csrf_token %}
                    <p>
                        <label for="id_guid">{% trans "GUID" %}</label>
                        <input type="text" name="guid" value=""
                               maxlength="5" minlength="5"
                               pattern="[0-9a-z]{5}"
                               title="{% trans 'Please enter only contain alphanumeric in lowercase' %}"
                               id="id_guid">
                    </p>
                    <p>
                        <label for="id_name">{% trans "Name" %}</label>
                        <input type="text" name="name" value=""
                               maxlength="255"
                               id="id_name">
                    </p>
                    <p>
                        <label for="id_email">{% trans "Email" %}</label>
                        <input type="email" name="email" value=""
                               maxlength="255" minlength="6"
                               pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                               title="{% trans 'Please enter an email address' %}"
                               id="id_email">
                    </p>
                    <input type="submit" class="btn btn-primary" value="{% trans 'Submit@search' %}"/>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
{% block bottom_js %}
    <script>
        function validateForm() {
            return !!$('#id_guid').val() || (!!$('#id_name').val() && $('#id_name').val().length <= 255) || !!$('#id_email').val();
        }
    </script>
{% endblock %}
